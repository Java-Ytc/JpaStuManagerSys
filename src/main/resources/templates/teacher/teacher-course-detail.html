<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh-CN">
<head>
  <meta charset="utf-8">
  <title>课程详细信息</title>
</head>
<body>
<h1>课程: [[${course.courseName}]]</h1>
<h2>选课学生信息</h2>
<table>
  <thead>
  <tr>
    <th>学生编号</th>
    <th>学生姓名</th>
    <th>分数</th>
    <th>操作</th>
    <th>缺课操作</th>
    <th>查看缺课记录</th> <!-- 添加新的列 -->
  </tr>
  </thead>
  <tbody>
  <tr th:each="selection : ${selections}">
    <td>[[${selection.student.userCode}]]</td>
    <td>[[${selection.student.username}]]</td>
    <td>
      <form th:action="@{/teacher/course/detail/{courseId}/score(courseId=${course.id})}" method="post">
        <input type="hidden" th:name="selectionId" th:value="${selection.id}">
        <!-- 添加 label 标签 -->
        <label for="scoreInput">分数:</label>
        <input type="number" step="0.01" th:name="score" id="scoreInput" th:value="${selection.score != null ? selection.score : ''}">
        <button type="submit">保存</button>
      </form>
    </td>
    <td>
      <!-- 可以添加其他操作按钮 -->
    </td>
    <td>
      <a th:href="@{/teacher/course/detail/{courseId}/absence/{selectionId}(courseId=${course.id}, selectionId=${selection.id})}">缺课</a>
    </td>
    <td>
      <a th:href="@{/teacher/course/detail/{courseId}/absence/records/{selectionId}(courseId=${course.id}, selectionId=${selection.id})}">查看缺课记录</a> <!-- 添加新的链接 -->
    </td>
  </tr>
  </tbody>
</table>
<!-- 添加返回教师面板链接 -->
<a href="/teacher/dashboard">返回教师主页面</a>
</body>
</html>